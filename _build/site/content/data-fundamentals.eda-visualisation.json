{"version":3,"kind":"Notebook","sha256":"189427502344075c014e16b035abef325a971ee71ce1db4a1932860d0bfdc3b3","slug":"data-fundamentals.eda-visualisation","location":"/2-data_fundamentals/eda_visualisation.ipynb","dependencies":[],"frontmatter":{"title":"Notebook - Visualisation in EDA","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"authors":[{"nameParsed":{"literal":"Sam Chong","given":"Sam","family":"Chong"},"name":"Sam Chong","id":"contributors-Users\\jwforth\\Desktop\\GitHub\\c3d-book\\book\\myst-generated-uid-0"}],"github":"https://github.com/drsamchong/c3d-book","numbering":{"title":{"offset":1}},"thumbnail":"/data_process-382a44ca5d2faae017314a907f5505ee.png","exports":[{"format":"ipynb","filename":"eda_visualisation.ipynb","url":"/eda_visualisation-db3d040d3f536fa730e69cae771f2637.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","data":{"editable":true,"slideshow":{"slide_type":"slide"},"tags":[]},"children":[{"type":"image","url":"/data_process-382a44ca5d2faae017314a907f5505ee.png","alt":"data process","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"gl2yg2pWlo","urlSource":"images/data_process.png"}],"visibility":"show","key":"uIwoMVrRMa"},{"type":"block","kind":"notebook-content","data":{"editable":true,"slideshow":{"slide_type":"slide"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualisation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xHMw5TZxtq"}],"identifier":"visualisation","label":"Visualisation","html_id":"visualisation","implicit":true,"key":"Rhp5uyD56R"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"{attribution=“John Tukey”}","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ZUbgmhhTzi"}],"key":"SXfCwQmHxo"},{"type":"blockquote","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The simple graph has brought more information to the data analyst’s mind than any other device.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"kLIWRDruSs"}],"key":"brC718PM70"}],"key":"ufIuTN64KY"}],"visibility":"show","key":"eBzHvYLWs5"},{"type":"block","kind":"notebook-code","data":{"editable":true,"slideshow":{"slide_type":"slide"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Import statements\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nfrom sklearn.metrics import r2_score","visibility":"hide","key":"vHYS8xafwL"},{"type":"outputs","id":"qRK850N96uvQWO-H2M0Cp","children":[],"visibility":"show","key":"gPTt9RqIst"}],"visibility":"show","key":"hPwfA1qI1u"},{"type":"block","kind":"notebook-code","data":{"editable":true,"slideshow":{"slide_type":"skip"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# set mpl fonts\nplt.rcParams['font.sans-serif'] = ['Arial', 'Helvetica', 'Lucida Grande', 'Verdana']","visibility":"hide","key":"wXtdEoj5kD"},{"type":"outputs","id":"6vS1TN1kEXvYXF_IEto2n","children":[],"visibility":"show","key":"TTGPp3ytEw"}],"visibility":"show","key":"Nh5PsFLfHt"},{"type":"block","kind":"notebook-code","data":{"editable":true,"slideshow":{"slide_type":"slide"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Helper functions for plotting\ndef get_stats(y: pd.Series) -> tuple[float, float]:\n#    stats = (np.mean(y), np.std(y), np.corrcoef(x, y)[0][1])\n    stats = (y.mean(), y.std())\n    return stats\n\ndef add_stats(ax, x, y):\n    mu, sigma = get_stats(y)\n    r = np.corrcoef(x, y)[0][1]\n    stats_text = (f'Mean y $\\\\mu$ = {mu:.2f}\\n'\n                  f'Stdev. y $\\\\sigma$ = {sigma:.2f}\\n'\n                  f'Correlation $r$ = {r:.2f}')\n    ax.text(0.95, 0.05, stats_text, fontsize=9, \n            transform=ax.transAxes, horizontalalignment='right')\n    \ndef get_linear_fit(x, y):\n    model = np.polyfit(x, y, deg=1) # y = mx + c (m = gradient, c = intercept)\n    m, c = model\n    predict = np.poly1d(model)\n    r2 = r2_score(y, predict(x))\n    return m, c, r2\n\ndef add_fit(ax, x, y):\n    m, c, r2 = get_linear_fit(x, y)\n    ax.axline(xy1=(0, c), slope=m, color=\"red\", linewidth=1) # xy1 provides defined point for line to pass through\n    fit_text = (f\"Fit\\nGradient: {m:.2f}\\nIntercept: {c:.2f}\\n\"\n                f\"y = {m:.2f}x + {c:.2f}\\n\"\n                f\"$r^2$ = {r2:.2f}\")\n    ax.text(0.05, 0.95, fit_text, fontsize=9, \n            transform=ax.transAxes, horizontalalignment='left', verticalalignment=\"top\")","visibility":"hide","key":"xPxYXHGHBA"},{"type":"outputs","id":"31UV5mUNG2AsBnkmvSrdV","children":[],"visibility":"show","key":"I8dDrjun21"}],"visibility":"show","key":"AFci4EJx8n"},{"type":"block","kind":"notebook-content","data":{"editable":true,"slideshow":{"slide_type":"slide"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Anscombe’s quartet","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"j8U3mHZZC4"}],"identifier":"anscombes-quartet","label":"Anscombe’s quartet","html_id":"anscombes-quartet","implicit":true,"key":"yrK1cprG8c"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"link","url":"https://en.wikipedia.org/wiki/Anscombe%27s_quartet","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Anscombe’s quartet","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"H3dNPMIhWU"}],"urlSource":"https://en.wikipedia.org/wiki/Anscombe%27s_quartet","data":{"page":"Anscombe%27s_quartet","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"j2sggOUw26"},{"type":"text","value":" (please don’t click the link until after you have worked through the notebook) consists of four simple datasets, each consisting of 11 pairs of x and y values.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"kzL1FGQIsb"}],"key":"kAedeQD6Pm"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Based on the statistical measures of mean, standard deviation and the correlation coefficient between the two variables, the datasets look close to identical. The data highlights the importance of visualisation in EDA and going beyond looking at the simple summary statistics.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Js9lIvwj9x"}],"key":"PtjI08DIjL"}],"visibility":"show","key":"AjYTvpBU4G"},{"type":"block","kind":"notebook-code","data":{"editable":true,"slideshow":{"slide_type":"slide"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# The csv contains pairs of (xy) data, so (x1, y1) form the first set of data, (x2, y2) is the second, etc.\n\nanscombe_df = pd.read_csv(\"data/anscombe_quartet.csv\")\nanscombe_df","visibility":"show","key":"GrqsrSJ6Hz"},{"type":"outputs","id":"yVEqL3Ki-EgpBBuryBZKb","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":4,"metadata":{},"data":{"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>x1</th>\n      <th>y1</th>\n      <th>x2</th>\n      <th>y2</th>\n      <th>x3</th>\n      <th>y3</th>\n      <th>x4</th>\n      <th>y4</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>10</td>\n      <td>8.04</td>\n      <td>10</td>\n      <td>9.14</td>\n      <td>10</td>\n      <td>7.46</td>\n      <td>8</td>\n      <td>6.58</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>8</td>\n      <td>6.95</td>\n      <td>8</td>\n      <td>8.14</td>\n      <td>8</td>\n      <td>6.77</td>\n      <td>8</td>\n      <td>5.76</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>13</td>\n      <td>7.58</td>\n      <td>13</td>\n      <td>8.74</td>\n      <td>13</td>\n      <td>12.74</td>\n      <td>8</td>\n      <td>7.71</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>9</td>\n      <td>8.81</td>\n      <td>9</td>\n      <td>8.77</td>\n      <td>9</td>\n      <td>7.11</td>\n      <td>8</td>\n      <td>8.84</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>11</td>\n      <td>8.33</td>\n      <td>11</td>\n      <td>9.26</td>\n      <td>11</td>\n      <td>7.81</td>\n      <td>8</td>\n      <td>8.47</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>14</td>\n      <td>9.96</td>\n      <td>14</td>\n      <td>8.10</td>\n      <td>14</td>\n      <td>8.84</td>\n      <td>8</td>\n      <td>7.04</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>6</td>\n      <td>7.24</td>\n      <td>6</td>\n      <td>6.13</td>\n      <td>6</td>\n      <td>6.08</td>\n      <td>8</td>\n      <td>5.25</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>4</td>\n      <td>4.26</td>\n      <td>4</td>\n      <td>3.10</td>\n      <td>4</td>\n      <td>5.39</td>\n      <td>19</td>\n      <td>12.50</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>12</td>\n      <td>10.84</td>\n      <td>12</td>\n      <td>9.13</td>\n      <td>12</td>\n      <td>8.15</td>\n      <td>8</td>\n      <td>5.56</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>7</td>\n      <td>4.82</td>\n      <td>7</td>\n      <td>7.26</td>\n      <td>7</td>\n      <td>6.42</td>\n      <td>8</td>\n      <td>7.91</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>5</td>\n      <td>5.68</td>\n      <td>5</td>\n      <td>4.74</td>\n      <td>5</td>\n      <td>5.73</td>\n      <td>8</td>\n      <td>6.89</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"},"text/plain":{"content":"    x1     y1  x2    y2  x3     y3  x4     y4\n0   10   8.04  10  9.14  10   7.46   8   6.58\n1    8   6.95   8  8.14   8   6.77   8   5.76\n2   13   7.58  13  8.74  13  12.74   8   7.71\n3    9   8.81   9  8.77   9   7.11   8   8.84\n4   11   8.33  11  9.26  11   7.81   8   8.47\n5   14   9.96  14  8.10  14   8.84   8   7.04\n6    6   7.24   6  6.13   6   6.08   8   5.25\n7    4   4.26   4  3.10   4   5.39  19  12.50\n8   12  10.84  12  9.13  12   8.15   8   5.56\n9    7   4.82   7  7.26   7   6.42   8   7.91\n10   5   5.68   5  4.74   5   5.73   8   6.89","content_type":"text/plain"}}},"children":[],"key":"tzYbRSmsUP"}],"visibility":"show","key":"bOBFSpZ9eh"}],"visibility":"show","key":"z1cCdPbcTp"},{"type":"block","kind":"notebook-content","data":{"editable":true,"slideshow":{"slide_type":"slide"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can compare the some simple summary statistics for the x and y columns of each dataset.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QLwzFhSXnf"}],"key":"zzND1wqiNx"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The mean and standard deviation give a measure of the centre and its spread, so we can look at those. ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"D1XlqKGlsk"},{"type":"link","url":"https://en.wikipedia.org/wiki/Pearson_correlation_coefficient","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Pearson’s correlation coefficient","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"APuRPTYRYe"}],"urlSource":"https://en.wikipedia.org/wiki/Pearson_correlation_coefficient","data":{"page":"Pearson_correlation_coefficient","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"iyASOpRkmE"},{"type":"text","value":", ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"DCNA2fl1F4"},{"type":"inlineMath","value":"r","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span>","key":"GiQAStDt8t"},{"type":"text","value":" measures the linear correlation between the x and y variables.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NnT7Sxx5iY"}],"key":"BseM6aYUnN"}],"visibility":"show","key":"JgkMwQo4nr"},{"type":"block","kind":"notebook-code","data":{"editable":true,"slideshow":{"slide_type":"slide"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"y_cols = [\"y1\", \"y2\", \"y3\", \"y4\"]\nx_cols = [\"x1\", \"x2\", \"x3\", \"x4\"]\n\nprint(\"Summary statistics for x data:\")\ndisplay(anscombe_df[x_cols].describe().loc[[\"count\",\"mean\", \"std\"]])\n\nprint(\"Summary statistics for y data:\")\ndisplay(anscombe_df[y_cols].describe().loc[[\"count\",\"mean\", \"std\"]])\n\n\nfor idx, dataset in enumerate(zip(x_cols, y_cols)):\n    print(f\"Dataset {idx+1}\")\n    pearson_r = np.corrcoef(anscombe_df[dataset[0]], anscombe_df[dataset[1]])[0][1]\n    print(f\"Pearson correlation coefficient: {pearson_r:.3f}\\n\")","visibility":"show","key":"fpY1BM6NYH"},{"type":"outputs","id":"3_R5O-6TDNZXDN9nXVJTD","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Summary statistics for x data:\n"},"children":[],"key":"bs0jcDUmyg"},{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>x1</th>\n      <th>x2</th>\n      <th>x3</th>\n      <th>x4</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>count</th>\n      <td>11.000000</td>\n      <td>11.000000</td>\n      <td>11.000000</td>\n      <td>11.000000</td>\n    </tr>\n    <tr>\n      <th>mean</th>\n      <td>9.000000</td>\n      <td>9.000000</td>\n      <td>9.000000</td>\n      <td>9.000000</td>\n    </tr>\n    <tr>\n      <th>std</th>\n      <td>3.316625</td>\n      <td>3.316625</td>\n      <td>3.316625</td>\n      <td>3.316625</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"},"text/plain":{"content":"              x1         x2         x3         x4\ncount  11.000000  11.000000  11.000000  11.000000\nmean    9.000000   9.000000   9.000000   9.000000\nstd     3.316625   3.316625   3.316625   3.316625","content_type":"text/plain"}}},"children":[],"key":"YL6TUxlmUO"},{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Summary statistics for y data:\n"},"children":[],"key":"hR8Uo9mEDj"},{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>y1</th>\n      <th>y2</th>\n      <th>y3</th>\n      <th>y4</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>count</th>\n      <td>11.000000</td>\n      <td>11.000000</td>\n      <td>11.000000</td>\n      <td>11.000000</td>\n    </tr>\n    <tr>\n      <th>mean</th>\n      <td>7.500909</td>\n      <td>7.500909</td>\n      <td>7.500000</td>\n      <td>7.500909</td>\n    </tr>\n    <tr>\n      <th>std</th>\n      <td>2.031568</td>\n      <td>2.031657</td>\n      <td>2.030424</td>\n      <td>2.030579</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"},"text/plain":{"content":"              y1         y2         y3         y4\ncount  11.000000  11.000000  11.000000  11.000000\nmean    7.500909   7.500909   7.500000   7.500909\nstd     2.031568   2.031657   2.030424   2.030579","content_type":"text/plain"}}},"children":[],"key":"VoW0668YOk"},{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Dataset 1\nPearson correlation coefficient: 0.816\n\nDataset 2\nPearson correlation coefficient: 0.816\n\nDataset 3\nPearson correlation coefficient: 0.816\n\nDataset 4\nPearson correlation coefficient: 0.817\n\n"},"children":[],"key":"J3R26sSMlA"}],"visibility":"show","key":"YIFlYZRs0t"}],"visibility":"show","key":"MpOnK5LE2k"},{"type":"block","kind":"notebook-content","data":{"editable":true,"slideshow":{"slide_type":"slide"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The summary statistics for each of the x columns and y columns are the same to two decimal places (the same precision as the data itself). The correlation coefficients are also the same.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VSRDaK82p0"}],"key":"pw75VZGy6H"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"So from these measures, the four datasets look very similar. To check this, we can visualise the datasets as a set of scatter plots.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"UqAyUQi544"}],"key":"ztKS3ZFN8F"}],"visibility":"show","key":"nirbrUFumU"},{"type":"block","kind":"notebook-code","data":{"editable":true,"slideshow":{"slide_type":"fragment"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Plotting function\ndef anscombe_plots(ans_df=anscombe_df, show_stats=False, show_fit=False):\n    \"\"\"Draw a 4x4 grid showing plots of the Anscombe quartet data\"\"\"\n    \n    INCLUDE_STATS = show_stats\n    INCLUDE_FIT = show_fit\n\n    fig, axs = plt.subplots(2,2, sharex=True, sharey=True, figsize=(8, 8))\n\n    for i, ax in enumerate(axs.flat):\n        x = ans_df.iloc[:, 2*i]\n        y = ans_df.iloc[:, 2*i+1]\n        ax.scatter(x, y)\n        ax.set_xlabel(\"x\")\n        ax.set_ylabel(\"y\")\n        data_label = f\"Data {i+1}\"\n        ax.text(0.95, 0.3, data_label, fontsize=16, transform=ax.transAxes, horizontalalignment=\"right\", verticalalignment='top')\n\n        if INCLUDE_STATS:\n            add_stats(ax, x, y)\n        \n        if INCLUDE_FIT:\n            add_fit(ax, x, y)\n\n\n    plt.xlim(0, 20)\n    plt.ylim(0, 14)\n    plt.xticks([5, 10, 15, 20])\n    plt.tight_layout()\n    plt.show()    ","visibility":"show","key":"Onqs3lvKtv"},{"type":"outputs","id":"vSzQAP3Wr_bA8EPSPT5Jz","children":[],"visibility":"show","key":"DMXuigEbhg"}],"visibility":"show","key":"y5xWm9jgkL"},{"type":"block","kind":"notebook-code","data":{"editable":true,"slideshow":{"slide_type":"fragment"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"anscombe_plots(anscombe_df, show_stats=True, show_fit=False)","visibility":"show","key":"BCHZ2MRq4r"},{"type":"outputs","id":"F_YrYkXtcCvY28iMVQZVZ","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"4a34e448e037107fb574a767e0609332","path":"/4a34e448e037107fb574a767e0609332.png"},"text/plain":{"content":"<Figure size 800x800 with 4 Axes>","content_type":"text/plain"}}},"children":[],"key":"wbUIAnbqkK"}],"visibility":"hide","key":"ENymfxdiD8"}],"visibility":"show","key":"ckj64iTHFU"},{"type":"block","kind":"notebook-content","data":{"editable":true,"slideshow":{"slide_type":"slide"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"From the scatter plots we can immediately see that the datasets are quite distinct.\nIf we calculate a linear regression line through the data, do the coefficients of the equation help to distinguish the data numerically?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DDA4uktN1d"}],"key":"zpTGSXuMsG"}],"visibility":"show","key":"RfSjhIyoAK"},{"type":"block","kind":"notebook-code","data":{"editable":true,"slideshow":{"slide_type":"fragment"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"anscombe_plots(anscombe_df, show_stats=True, show_fit=True)","visibility":"show","key":"omJhJHBlNd"},{"type":"outputs","id":"0XsZIoHZelulGpK8R-611","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"c7571d3326c9f9f59494aaa5450d2c6b","path":"/c7571d3326c9f9f59494aaa5450d2c6b.png"},"text/plain":{"content":"<Figure size 800x800 with 4 Axes>","content_type":"text/plain"}}},"children":[],"key":"LlSMzJoFRr"}],"visibility":"hide","key":"XOF7GJq1nE"}],"visibility":"show","key":"CLjZ3ti6Gd"},{"type":"block","kind":"notebook-content","data":{"editable":true,"slideshow":{"slide_type":"slide"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The best fit line is also identical and the r-squared value indicates that numerically, at least, it fits all of the datasets equally well (or badly).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VXiGpkYacV"}],"key":"ay1yofQJk1"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"However, we can see from the visualisations that the regression line is only really appropriate for the first dataset.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"PnnV8XyTLN"}],"key":"wGzES01LWE"}],"visibility":"show","key":"AGEP8UOjCb"},{"type":"block","kind":"notebook-content","data":{"editable":true,"slideshow":{"slide_type":"slide"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"If we look at some of the other descriptive statistics, particularly relating to the data distribution (max/min, percentiles), these show there are differences between the data. But the simple scatter plot visualisations make the contrasts unmissable.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"U90XHzKffW"}],"key":"C5u2L1vLzr"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In the case of Anscombe’s quartet, the scatter plots are sufficient to highlight the differences. For more complex data, there are other visualisations that highlight the differences between the distributions of the datasets.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Jzea2H83bN"}],"key":"BkGTaaUsZQ"}],"visibility":"show","key":"GGFCaWk35y"},{"type":"block","kind":"notebook-content","data":{"editable":true,"slideshow":{"slide_type":"slide"},"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Key points summary","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gYR2M1Zo90"}],"key":"EmZWbnluLZ"}],"identifier":"key-points-summary","label":"Key points summary","html_id":"key-points-summary","implicit":true,"key":"r7O62cYZmq"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Visualisation is an essential part of exploratory data analysis.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"a1lCv6A0sq"}],"key":"vDgIaLjqdz"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Always explore your datasets visually before applying models or drawing conclusions.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Sg8hk5HG6j"}],"key":"bifvBct9sT"}],"key":"s7AfRgjowP"}],"key":"uuAcjygxuc"}],"key":"MkUpbmg2X3"}],"key":"LYQPcApv1m"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"{attribution=“John Tukey”}","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"z64uHfE6dD"}],"key":"kMpDfXBxjH"},{"type":"blockquote","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"“The first step in analyzing data is to look at it.”","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"BKKZQbbFH3"}],"key":"aYz6bPBGI8"}],"key":"bcKKmqddzi"}],"visibility":"show","key":"sBuibOUBct"},{"type":"block","kind":"notebook-content","data":{"editable":true,"slideshow":{"slide_type":"slide"},"tags":[]},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Things to try/consider","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IlmF7LyWkf"}],"identifier":"things-to-try-consider","label":"Things to try/consider","html_id":"things-to-try-consider","implicit":true,"key":"Coo8ZT8D4L"},{"type":"admonition","kind":"seealso","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"See Also","key":"o3YVQB7c3O"}],"key":"Ysk596tZqZ"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Another dataset, called the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"sgnPRlMG3o"},{"type":"link","url":"https://www.research.autodesk.com/publications/same-stats-different-graphs/","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Datasaurus Dozen","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"ydPZ2fNSx0"}],"urlSource":"https://www.research.autodesk.com/publications/same-stats-different-graphs/","key":"xetBaazDV9"},{"type":"text","value":" has been compiled to highlight how valuable visualisation is when assessing\ndata. Data is available ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"niGwAKhDzE"},{"type":"link","url":"https://www.openintro.org/data/index.php?data=datasaurus","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"here","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"uUhorjJDSi"}],"urlSource":"https://www.openintro.org/data/index.php?data=datasaurus","key":"jp6hrydTdO"}],"key":"E2FHLULPaa"}],"key":"vnqJQl8DTJ"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"In the case of Anscombe’s quartet, the scatter plots are sufficient to highlight the differences.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"JiH6iBgPJm"}],"key":"nHEkbJ7VYb"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"For more complex data, there are other visualisations that highlight the differences between the distributions of the datasets. The ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"GFo91tYMpc"},{"type":"link","url":"https://seaborn.pydata.org/index.html","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"seaborn","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"tvtuS7V96x"}],"urlSource":"https://seaborn.pydata.org/index.html","key":"cbX8lBeyTc"},{"type":"text","value":" visualisation library makes it particularly straightforward to look at distributions of multiple variables and correlations between variables.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"pYy9p85ckO"}],"key":"CwLU8wjDvc"},{"type":"admonition","kind":"seealso","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"See Also","key":"ksENHCoxEK"}],"key":"c2jTNnt4C4"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"link","url":"https://weisscharlesj.github.io/SciCompforChemists/notebooks/chapter_10/chap_10_notebook.html","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Plotting with Seaborn","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"giwvEwogSu"}],"urlSource":"https://weisscharlesj.github.io/SciCompforChemists/notebooks/chapter_10/chap_10_notebook.html","key":"Fud1TigEcm"}],"key":"nlDBfyy0IK"}],"key":"tBcxWzD7cs"},{"type":"paragraph","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"What kinds of plot might help to highlight the differences between the datasets or identify issues that might affect how the data is modelled, e.g. for dataset 3, there is a single isolated point; how does this affect the best-fit linear model; how might this be identified?","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"kSaN0fieNf"}],"key":"g75HH3xfVl"}],"visibility":"show","key":"dMuewSWcBj"}],"key":"JSev1FXXMY"},"references":{"cite":{"order":[],"data":{}}}}